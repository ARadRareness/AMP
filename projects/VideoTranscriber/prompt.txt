# video_transcriber_db.py

Using @amp_lib.py I want you to create a script that every 10 minutes iterates over all files in the C: drive and for every mp4 file found, checks if it has already been analyzed in a local database, if it has then compare last change time, if it differs or if it hasn't been analyzed before: do an amp_library.speech_to_text of it (srt_mode false). Create an entry in the local database with, {"name": "the name of the file", "path": "the filepath of the file", "last_changed":"when it was last changed", "transcription":"transcription of the file"}
---
Add a field to the database, removed (boolean).

when process_videos is done, go through all entries in the database and check if the filepath exists, if not then set removed = True, otherwise removed = False
---
Add a field to the database, length.
for each entry calculate how long the video is and populate the field


# video_file_explorer.py

Using the db from @video_transcriber_db.py, create a video file explorer in tkinter, where the user can search for videos that partially match the search query. The results are displayed in file explorer like manner where we have a column for name, filepath, video length and last_changed. Allow sorting each column ascending and descending. Allow the user to start the video by double clicking on it.
---
Format the video length as HH:MM:SS.
---
For the video path, remove the filename (since we already have a column for it).
---
Can we add a scrollbar for when we have a lot of results.
---
When we use the search feature, only show the results matching instead of just highlighting them.
---
No videos are shown when the application is first started up, it works when I have searched for something.
---
Create a reload_files function that is used for both when sorting and when booting up the application.
---
Let's have it so that we have three input fields, one for name search, one for path search, and one for content search. For the content search, check if the query is found inside of the transcription of the entry (see @video_transcriber_db)
---
Can we create a right click menu when we right click an entry, have an option "Show content matches" that in a popup shows a few lines before and after the content search is found within the transcript.
---
For the show content matches, show 200 characters before and after the match, try to keep it so that we have whole sentences. 
---
For the show content matches, can you highlight the query in the text so it is easier to find it.
---
Can we add a scrollbar to the content matches window?
---
When the content search is empty, have it so that when you right click you get "Show transcript" instead
---
Add an "Summarize Video" option to the right click menu, which calls on an LLM to summarize the transcription of the video. Write a nice prompt and use @amp_lib to call the LLM.
---
Add an "Delete" option last in the right click menu which removes the video, create an Are you sure popup before doing it.
---
Can we change it so that a column's length never can be bigger than the length of the largest value of that column.